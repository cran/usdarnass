<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Robert Dinterman" />

<meta name="date" content="2019-06-20" />

<title>Output of usdarnass</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Output of usdarnass</h1>
<h4 class="author">Robert Dinterman</h4>
<h4 class="date">2019-06-20</h4>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Each successful call of the <code>nass_data()</code> command will return a data.frame object with 39 variables, although a handful of these variables will have the same value for each observation in the data.frame due to the nature of setting parameters for a query. The resulting data.frame is of the <a href="http://vita.had.co.nz/papers/tidy-data.html">long variety</a> with the <code>Value</code> variable as the numerical variable of interest for the query.</p>
<div id="official-usda-objects" class="section level2">
<h2>Official USDA Objects</h2>
<p>The official documentation for each of these variables from the USDA are as follows:</p>
<ul>
<li><code>week_ending</code> - Week ending date, used when freq_desc = WEEKLY.</li>
<li><code>state_name</code> - State full name.</li>
<li><code>country_code</code> - US Census Bureau, Foreign Trade Division 4-digit country code, as of April, 2007.</li>
<li><code>location_desc</code> - Full description for the location dimension.</li>
<li><code>begin_code</code> - If applicable, a 2-digit code corresponding to the beginning of the reference period (e.g., for freq_desc = MONTHLY, begin_code ranges from 01 (January) to 12 (December)).</li>
<li><code>zip_5</code> - US Postal Service 5-digit zip code.</li>
<li><code>county_ansi</code> - ANSI standard 3-digit county codes.</li>
<li><code>state_alpha</code> - State abbreviation, 2-character alpha code.</li>
<li><code>util_practice_desc</code> - Utilizations (e.g., GRAIN, FROZEN, SLAUGHTER) or marketing channels (e.g., FRESH MARKET, PROCESSING, RETAIL).</li>
<li><code>domain_desc</code> - Generally another characteristic of operations that produce a particular commodity (e.g., ECONOMIC CLASS, AREA OPERATED, NAICS CLASSIFICATION, SALES). For chemical usage data, the domain describes the type of chemical applied to the commodity. The domain = TOTAL will have no further breakouts; i.e., the data value pertains completely to the short_desc.</li>
<li><code>asd_desc</code> - Ag statistics district name.</li>
<li><code>freq_desc</code> - Length of time covered (ANNUAL, SEASON, MONTHLY, WEEKLY, POINT IN TIME). MONTHLY often covers more than one month. POINT IN TIME is as of a particular day.</li>
<li><code>prodn_practice_desc</code> - A method of production or action taken on the commodity (e.g., IRRIGATED, ORGANIC, ON FEED).</li>
<li><code>end_code</code> - If applicable, a 2-digit code corresponding to the end of the reference period (e.g., the reference period of JAN THRU MAR will have begin_code = 01 and end_code = 03).</li>
<li><code>sector_desc</code> - Five high level, broad categories useful to narrow down choices (CROPS, ANIMALS &amp; PRODUCTS, ECONOMICS, DEMOGRAPHICS, and ENVIRONMENTAL).</li>
<li><code>short_desc</code> - A concatenation of six columns: commodity_desc, class_desc, prodn_practice_desc, util_practice_desc, statisticcat_desc, and unit_desc.</li>
<li><code>country_name</code> - County name.</li>
<li><code>Value</code> - Published data value or suppression reason code.</li>
<li><code>reference_period_desc</code> - The specific time frame, within a freq_desc.</li>
<li><code>CV (%)</code> - Coefficient of variation. Available for the 2012 Census of Agriculture only. County-level CVs are generalized.</li>
<li><code>class_desc</code> - Generally a physical attribute (e.g., variety, size, color, gender) of the commodity.</li>
<li><code>asd_code</code> - NASS defined county groups, unique within a state, 2-digit ag statistics district code.</li>
<li><code>agg_level_desc</code> - Aggregation level or geographic granularity of the data (e.g., STATE, AG DISTRICT, COUNTY, REGION, ZIP CODE).</li>
<li><code>county_name</code> - Country name.</li>
<li><code>region_desc</code> - NASS defined geographic entities not readily defined by other standard geographic levels. A region can be a less than a state (SUB-STATE) or a group of states (MULTI-STATE), and may be specific to a commodity.</li>
<li><code>watershed_desc</code> - Name assigned to the HUC.</li>
<li><code>state_ansi</code> - American National Standards Institute (ANSI) standard 2-digit state codes.</li>
<li><code>congr_district_code</code> - US Congressional District 2-digit code.</li>
<li><code>domaincat_desc</code> - Categories or partitions within a domain (e.g., under domain = SALES, domain categories include $1,000 TO $9,999, $10,000 TO $19,999, etc).</li>
<li><code>state_fips_code</code> - NASS 2-digit state codes; include 99 and 98 for US TOTAL and OTHER STATES, respectively; otherwise match ANSI codes.</li>
<li><code>group_desc</code> - Subsets within sector (e.g., under sector = CROPS, the groups are FIELD CROPS, FRUIT &amp; TREE NUTS, HORTICULTURE, and VEGETABLES).</li>
<li><code>watershed_code</code> - US Geological Survey (USGS) 8-digit Hydrologic Unit Code (HUC) for watersheds.</li>
<li><code>unit_desc</code> - The unit associated with the statistic category (e.g., ACRES, $ / LB, HEAD, $, OPERATIONS).</li>
<li><code>source_desc</code> - Source of data (CENSUS or SURVEY). Census program includes the Census of Ag as well as follow up projects. Survey program includes national, state, and county surveys.</li>
<li><code>load_time</code> - Date and time indicating when record was inserted into Quick Stats database.</li>
<li><code>county_code</code> - NASS 3-digit county codes; includes 998 for OTHER (COMBINED) COUNTIES and Alaska county codes; otherwise match ANSI codes.</li>
<li><code>statisticcat_desc</code> - The aspect of a commodity being measured (e.g., AREA HARVESTED, PRICE RECEIVED, INVENTORY, SALES).</li>
<li><code>commodity_desc</code> - The primary subject of interest (e.g., CORN, CATTLE, LABOR, TRACTORS, OPERATORS).</li>
<li><code>year</code> - The numeric year of the data.</li>
</ul>
<p>I learn best through examples, so I’ll cover a few different levels of analysis and subtleties related to the data.</p>
</div>
</div>
<div id="county-level-example" class="section level1">
<h1>County Level Example</h1>
<p>We can set a query where we return all data at the county level in Ohio related to rent, which is equivalent to <a href="https://quickstats.nass.usda.gov/">https://quickstats.nass.usda.gov/</a> setting “Geographic Level” to COUNTY, “State” equal to Ohio, and “Commodity” equal to RENT :</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;usdarnass&quot;</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(<span class="st">&quot;dplyr&quot;</span>) <span class="co"># Helpful package</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">ohio_rent &lt;-<span class="st"> </span><span class="kw">nass_data</span>(<span class="dt">commodity_desc =</span> <span class="st">&quot;RENT&quot;</span>, <span class="dt">agg_level_desc =</span> <span class="st">&quot;COUNTY&quot;</span>,</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">                       <span class="dt">state_name =</span> <span class="st">&quot;OHIO&quot;</span>)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw">glimpse</span>(ohio_rent)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt; Observations: 2,006</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co">#&gt; Variables: 39</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#&gt; $ source_desc           &lt;chr&gt; &quot;CENSUS&quot;, &quot;CENSUS&quot;, &quot;CENSUS&quot;, &quot;CENSUS&quot;, &quot;C…</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt; $ sector_desc           &lt;chr&gt; &quot;ECONOMICS&quot;, &quot;ECONOMICS&quot;, &quot;ECONOMICS&quot;, &quot;EC…</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="co">#&gt; $ group_desc            &lt;chr&gt; &quot;EXPENSES&quot;, &quot;EXPENSES&quot;, &quot;EXPENSES&quot;, &quot;EXPEN…</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="co">#&gt; $ commodity_desc        &lt;chr&gt; &quot;RENT&quot;, &quot;RENT&quot;, &quot;RENT&quot;, &quot;RENT&quot;, &quot;RENT&quot;, &quot;R…</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="co">#&gt; $ class_desc            &lt;chr&gt; &quot;CASH, LAND &amp; BUILDINGS&quot;, &quot;CASH, LAND &amp; BU…</span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"><span class="co">#&gt; $ prodn_practice_desc   &lt;chr&gt; &quot;ALL PRODUCTION PRACTICES&quot;, &quot;ALL PRODUCTIO…</span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="co">#&gt; $ util_practice_desc    &lt;chr&gt; &quot;ALL UTILIZATION PRACTICES&quot;, &quot;ALL UTILIZAT…</span></a>
<a class="sourceLine" id="cb1-16" data-line-number="16"><span class="co">#&gt; $ statisticcat_desc     &lt;chr&gt; &quot;EXPENSE&quot;, &quot;EXPENSE&quot;, &quot;EXPENSE&quot;, &quot;EXPENSE&quot;…</span></a>
<a class="sourceLine" id="cb1-17" data-line-number="17"><span class="co">#&gt; $ unit_desc             &lt;chr&gt; &quot;$&quot;, &quot;$&quot;, &quot;$&quot;, &quot;$&quot;, &quot;$&quot;, &quot;$&quot;, &quot;$&quot;, &quot;$&quot;, &quot;$…</span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="co">#&gt; $ short_desc            &lt;chr&gt; &quot;RENT, CASH, LAND &amp; BUILDINGS - EXPENSE, M…</span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19"><span class="co">#&gt; $ domain_desc           &lt;chr&gt; &quot;TOTAL&quot;, &quot;TOTAL&quot;, &quot;TOTAL&quot;, &quot;TOTAL&quot;, &quot;TOTAL…</span></a>
<a class="sourceLine" id="cb1-20" data-line-number="20"><span class="co">#&gt; $ domaincat_desc        &lt;chr&gt; &quot;NOT SPECIFIED&quot;, &quot;NOT SPECIFIED&quot;, &quot;NOT SPE…</span></a>
<a class="sourceLine" id="cb1-21" data-line-number="21"><span class="co">#&gt; $ agg_level_desc        &lt;chr&gt; &quot;COUNTY&quot;, &quot;COUNTY&quot;, &quot;COUNTY&quot;, &quot;COUNTY&quot;, &quot;C…</span></a>
<a class="sourceLine" id="cb1-22" data-line-number="22"><span class="co">#&gt; $ state_ansi            &lt;chr&gt; &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, …</span></a>
<a class="sourceLine" id="cb1-23" data-line-number="23"><span class="co">#&gt; $ state_fips_code       &lt;chr&gt; &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, …</span></a>
<a class="sourceLine" id="cb1-24" data-line-number="24"><span class="co">#&gt; $ state_alpha           &lt;chr&gt; &quot;OH&quot;, &quot;OH&quot;, &quot;OH&quot;, &quot;OH&quot;, &quot;OH&quot;, &quot;OH&quot;, &quot;OH&quot;, …</span></a>
<a class="sourceLine" id="cb1-25" data-line-number="25"><span class="co">#&gt; $ state_name            &lt;chr&gt; &quot;OHIO&quot;, &quot;OHIO&quot;, &quot;OHIO&quot;, &quot;OHIO&quot;, &quot;OHIO&quot;, &quot;O…</span></a>
<a class="sourceLine" id="cb1-26" data-line-number="26"><span class="co">#&gt; $ asd_code              &lt;chr&gt; &quot;10&quot;, &quot;10&quot;, &quot;10&quot;, &quot;10&quot;, &quot;10&quot;, &quot;10&quot;, &quot;10&quot;, …</span></a>
<a class="sourceLine" id="cb1-27" data-line-number="27"><span class="co">#&gt; $ asd_desc              &lt;chr&gt; &quot;NORTHWEST&quot;, &quot;NORTHWEST&quot;, &quot;NORTHWEST&quot;, &quot;NO…</span></a>
<a class="sourceLine" id="cb1-28" data-line-number="28"><span class="co">#&gt; $ county_ansi           &lt;chr&gt; &quot;003&quot;, &quot;003&quot;, &quot;003&quot;, &quot;003&quot;, &quot;003&quot;, &quot;039&quot;, …</span></a>
<a class="sourceLine" id="cb1-29" data-line-number="29"><span class="co">#&gt; $ county_code           &lt;chr&gt; &quot;003&quot;, &quot;003&quot;, &quot;003&quot;, &quot;003&quot;, &quot;003&quot;, &quot;039&quot;, …</span></a>
<a class="sourceLine" id="cb1-30" data-line-number="30"><span class="co">#&gt; $ county_name           &lt;chr&gt; &quot;ALLEN&quot;, &quot;ALLEN&quot;, &quot;ALLEN&quot;, &quot;ALLEN&quot;, &quot;ALLEN…</span></a>
<a class="sourceLine" id="cb1-31" data-line-number="31"><span class="co">#&gt; $ region_desc           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></a>
<a class="sourceLine" id="cb1-32" data-line-number="32"><span class="co">#&gt; $ zip_5                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></a>
<a class="sourceLine" id="cb1-33" data-line-number="33"><span class="co">#&gt; $ watershed_code        &lt;chr&gt; &quot;00000000&quot;, &quot;00000000&quot;, &quot;00000000&quot;, &quot;00000…</span></a>
<a class="sourceLine" id="cb1-34" data-line-number="34"><span class="co">#&gt; $ watershed_desc        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></a>
<a class="sourceLine" id="cb1-35" data-line-number="35"><span class="co">#&gt; $ congr_district_code   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></a>
<a class="sourceLine" id="cb1-36" data-line-number="36"><span class="co">#&gt; $ country_code          &lt;chr&gt; &quot;9000&quot;, &quot;9000&quot;, &quot;9000&quot;, &quot;9000&quot;, &quot;9000&quot;, &quot;9…</span></a>
<a class="sourceLine" id="cb1-37" data-line-number="37"><span class="co">#&gt; $ country_name          &lt;chr&gt; &quot;UNITED STATES&quot;, &quot;UNITED STATES&quot;, &quot;UNITED …</span></a>
<a class="sourceLine" id="cb1-38" data-line-number="38"><span class="co">#&gt; $ location_desc         &lt;chr&gt; &quot;OHIO, NORTHWEST, ALLEN&quot;, &quot;OHIO, NORTHWEST…</span></a>
<a class="sourceLine" id="cb1-39" data-line-number="39"><span class="co">#&gt; $ year                  &lt;chr&gt; &quot;2017&quot;, &quot;2012&quot;, &quot;2007&quot;, &quot;2002&quot;, &quot;1997&quot;, &quot;2…</span></a>
<a class="sourceLine" id="cb1-40" data-line-number="40"><span class="co">#&gt; $ freq_desc             &lt;chr&gt; &quot;ANNUAL&quot;, &quot;ANNUAL&quot;, &quot;ANNUAL&quot;, &quot;ANNUAL&quot;, &quot;A…</span></a>
<a class="sourceLine" id="cb1-41" data-line-number="41"><span class="co">#&gt; $ begin_code            &lt;chr&gt; &quot;00&quot;, &quot;00&quot;, &quot;00&quot;, &quot;00&quot;, &quot;00&quot;, &quot;00&quot;, &quot;00&quot;, …</span></a>
<a class="sourceLine" id="cb1-42" data-line-number="42"><span class="co">#&gt; $ end_code              &lt;chr&gt; &quot;00&quot;, &quot;00&quot;, &quot;00&quot;, &quot;00&quot;, &quot;00&quot;, &quot;00&quot;, &quot;00&quot;, …</span></a>
<a class="sourceLine" id="cb1-43" data-line-number="43"><span class="co">#&gt; $ reference_period_desc &lt;chr&gt; &quot;YEAR&quot;, &quot;YEAR&quot;, &quot;YEAR&quot;, &quot;YEAR&quot;, &quot;YEAR&quot;, &quot;Y…</span></a>
<a class="sourceLine" id="cb1-44" data-line-number="44"><span class="co">#&gt; $ week_ending           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></a>
<a class="sourceLine" id="cb1-45" data-line-number="45"><span class="co">#&gt; $ load_time             &lt;chr&gt; &quot;2018-02-01 00:00:00&quot;, &quot;2012-12-31 00:00:0…</span></a>
<a class="sourceLine" id="cb1-46" data-line-number="46"><span class="co">#&gt; $ Value                 &lt;chr&gt; &quot;10,693,000&quot;, &quot;11,067,000&quot;, &quot;7,001,000&quot;, &quot;…</span></a>
<a class="sourceLine" id="cb1-47" data-line-number="47"><span class="co">#&gt; $ `CV (%)`              &lt;chr&gt; &quot;18.4&quot;, &quot;9.6&quot;, NA, NA, NA, &quot;18.4&quot;, &quot;9.6&quot;, …</span></a></code></pre></div>
<p>The <code>agg_level_desc</code>, <code>commodity_desc</code>, and <code>state_name</code> variables are all the same because the query parameters were set on those values. It turns out a few other variables will be identical for the whole data.frame because they do not vary based on county level observations in Ohio: <code>country_code</code>, <code>state_alpha</code>, <code>state_ansi</code>, and <code>state_fips_code</code>.</p>
<p>There are a fair amount of other variables which are all the same for the entire data.frame, but these variables are not the same because of the regional aggregation variables but because we have subset the data by the <code>commodity_desc</code> as “RENT”.</p>
<p>The various other parameters that we could have set in this query of interest are from the <code>short_desc</code> parameter, which we could use the <code>nass_param()</code> function to view the options for this data item:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">nass_param</span>(<span class="st">&quot;short_desc&quot;</span>, <span class="dt">commodity_desc =</span> <span class="st">&quot;RENT&quot;</span>, <span class="dt">agg_level_desc =</span> <span class="st">&quot;COUNTY&quot;</span>, <span class="dt">state_name =</span> <span class="st">&quot;OHIO&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt; [1] &quot;RENT, CASH, CROPLAND, IRRIGATED - EXPENSE, MEASURED IN $ / ACRE&quot;    </span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt; [2] &quot;RENT, CASH, CROPLAND, NON-IRRIGATED - EXPENSE, MEASURED IN $ / ACRE&quot;</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; [3] &quot;RENT, CASH, LAND &amp; BUILDINGS - EXPENSE, MEASURED IN $&quot;              </span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; [4] &quot;RENT, CASH, LAND &amp; BUILDINGS - OPERATIONS WITH EXPENSE&quot;             </span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; [5] &quot;RENT, CASH, PASTURELAND - EXPENSE, MEASURED IN $ / ACRE&quot;            </span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt; [6] &quot;RENT, PER HEAD OR ANIMAL UNIT MONTH - OPERATIONS WITH EXPENSE&quot;</span></a></code></pre></div>
<p>Alternatively, in the previously returned query with the <code>nass_data()</code> function, we could view the frequency of the different <code>short_desc</code> variables to get to the same outcome but with the additional benefit of knowing the number of observations:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">table</span>(ohio_rent<span class="op">$</span>short_desc)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt;     RENT, CASH, CROPLAND, IRRIGATED - EXPENSE, MEASURED IN $ / ACRE </span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt;                                                                  19 </span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; RENT, CASH, CROPLAND, NON-IRRIGATED - EXPENSE, MEASURED IN $ / ACRE </span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;                                                                 719 </span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;               RENT, CASH, LAND &amp; BUILDINGS - EXPENSE, MEASURED IN $ </span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;                                                                 440 </span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;              RENT, CASH, LAND &amp; BUILDINGS - OPERATIONS WITH EXPENSE </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;                                                                 440 </span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;             RENT, CASH, PASTURELAND - EXPENSE, MEASURED IN $ / ACRE </span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt;                                                                 311 </span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;       RENT, PER HEAD OR ANIMAL UNIT MONTH - OPERATIONS WITH EXPENSE </span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;                                                                  77</span></a></code></pre></div>
<div id="dominant-form-of-rent-in-ohio" class="section level2">
<h2>Dominant form of rent in Ohio</h2>
<p>In Ohio, the dominant form of cash rent is for non-irrigated cropland and most counties in Ohio are surveyed in the state and have a usable value for cash rent in a year. But this is not exactly right, so we can see this by subsetting our original query for only non-irrigated cropland and look at the number of counties in each year’s observation.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">non_irrigated &lt;-<span class="st"> </span>ohio_rent <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(<span class="kw">grepl</span>(<span class="st">&quot;NON-IRRIGATED&quot;</span>, short_desc))</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="kw">table</span>(non_irrigated<span class="op">$</span>year) <span class="co"># Observation per year</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; 2008 2009 2010 2011 2012 2013 2014 2016 2017 </span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt;   64   82   79   83   82   83   83   82   81</span></a></code></pre></div>
<p>The cash rent values begin in 2008 with a small subset of counties in Ohio and then cover the vast majority of the state in 2009 onward. As it turns out, the entire state is surveyed but some counties do not have enough observations to have a statistically relevant sample and are thus combined at the agricultural reporting district level. This can be see with a listing of all of the counties in Ohio with rent data available:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">table</span>(non_irrigated<span class="op">$</span>county_name)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt;                     ADAMS                     ALLEN </span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt;                   ASHLAND                 ASHTABULA </span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt;                         8                         9 </span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt;                    ATHENS                  AUGLAIZE </span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt;                         3                         9 </span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt;                   BELMONT                     BROWN </span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt;                         6                         9 </span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt;                    BUTLER                   CARROLL </span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt;                 CHAMPAIGN                     CLARK </span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt;                  CLERMONT                   CLINTON </span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt;                         2                         9 </span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">#&gt;                COLUMBIANA                 COSHOCTON </span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt;                  CRAWFORD                     DARKE </span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="co">#&gt;                  DEFIANCE                  DELAWARE </span></a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="co">#&gt;                         8                         8 </span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="co">#&gt;                      ERIE                 FAIRFIELD </span></a>
<a class="sourceLine" id="cb5-24" data-line-number="24"><span class="co">#&gt;                         8                         9 </span></a>
<a class="sourceLine" id="cb5-25" data-line-number="25"><span class="co">#&gt;                   FAYETTE                  FRANKLIN </span></a>
<a class="sourceLine" id="cb5-26" data-line-number="26"><span class="co">#&gt;                         9                         6 </span></a>
<a class="sourceLine" id="cb5-27" data-line-number="27"><span class="co">#&gt;                    FULTON                    GALLIA </span></a>
<a class="sourceLine" id="cb5-28" data-line-number="28"><span class="co">#&gt;                         9                         5 </span></a>
<a class="sourceLine" id="cb5-29" data-line-number="29"><span class="co">#&gt;                    GEAUGA                    GREENE </span></a>
<a class="sourceLine" id="cb5-30" data-line-number="30"><span class="co">#&gt;                         8                         9 </span></a>
<a class="sourceLine" id="cb5-31" data-line-number="31"><span class="co">#&gt;                  GUERNSEY                   HANCOCK </span></a>
<a class="sourceLine" id="cb5-32" data-line-number="32"><span class="co">#&gt;                         7                         8 </span></a>
<a class="sourceLine" id="cb5-33" data-line-number="33"><span class="co">#&gt;                    HARDIN                  HARRISON </span></a>
<a class="sourceLine" id="cb5-34" data-line-number="34"><span class="co">#&gt;                         9                         7 </span></a>
<a class="sourceLine" id="cb5-35" data-line-number="35"><span class="co">#&gt;                     HENRY                  HIGHLAND </span></a>
<a class="sourceLine" id="cb5-36" data-line-number="36"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-37" data-line-number="37"><span class="co">#&gt;                   HOCKING                    HOLMES </span></a>
<a class="sourceLine" id="cb5-38" data-line-number="38"><span class="co">#&gt;                         8                         9 </span></a>
<a class="sourceLine" id="cb5-39" data-line-number="39"><span class="co">#&gt;                     HURON                   JACKSON </span></a>
<a class="sourceLine" id="cb5-40" data-line-number="40"><span class="co">#&gt;                         9                         4 </span></a>
<a class="sourceLine" id="cb5-41" data-line-number="41"><span class="co">#&gt;                 JEFFERSON                      KNOX </span></a>
<a class="sourceLine" id="cb5-42" data-line-number="42"><span class="co">#&gt;                         5                         7 </span></a>
<a class="sourceLine" id="cb5-43" data-line-number="43"><span class="co">#&gt;                  LAWRENCE                   LICKING </span></a>
<a class="sourceLine" id="cb5-44" data-line-number="44"><span class="co">#&gt;                         7                         9 </span></a>
<a class="sourceLine" id="cb5-45" data-line-number="45"><span class="co">#&gt;                     LOGAN                    LORAIN </span></a>
<a class="sourceLine" id="cb5-46" data-line-number="46"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-47" data-line-number="47"><span class="co">#&gt;                     LUCAS                   MADISON </span></a>
<a class="sourceLine" id="cb5-48" data-line-number="48"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-49" data-line-number="49"><span class="co">#&gt;                  MAHONING                    MARION </span></a>
<a class="sourceLine" id="cb5-50" data-line-number="50"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-51" data-line-number="51"><span class="co">#&gt;                    MEDINA                     MEIGS </span></a>
<a class="sourceLine" id="cb5-52" data-line-number="52"><span class="co">#&gt;                         9                         5 </span></a>
<a class="sourceLine" id="cb5-53" data-line-number="53"><span class="co">#&gt;                    MERCER                     MIAMI </span></a>
<a class="sourceLine" id="cb5-54" data-line-number="54"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-55" data-line-number="55"><span class="co">#&gt;                    MONROE                MONTGOMERY </span></a>
<a class="sourceLine" id="cb5-56" data-line-number="56"><span class="co">#&gt;                         6                         9 </span></a>
<a class="sourceLine" id="cb5-57" data-line-number="57"><span class="co">#&gt;                    MORGAN                    MORROW </span></a>
<a class="sourceLine" id="cb5-58" data-line-number="58"><span class="co">#&gt;                         8                         9 </span></a>
<a class="sourceLine" id="cb5-59" data-line-number="59"><span class="co">#&gt;                 MUSKINGUM                     NOBLE </span></a>
<a class="sourceLine" id="cb5-60" data-line-number="60"><span class="co">#&gt;                         9                         6 </span></a>
<a class="sourceLine" id="cb5-61" data-line-number="61"><span class="co">#&gt; OTHER (COMBINED) COUNTIES                    OTTAWA </span></a>
<a class="sourceLine" id="cb5-62" data-line-number="62"><span class="co">#&gt;                        36                         9 </span></a>
<a class="sourceLine" id="cb5-63" data-line-number="63"><span class="co">#&gt;                  PAULDING                     PERRY </span></a>
<a class="sourceLine" id="cb5-64" data-line-number="64"><span class="co">#&gt;                         9                         8 </span></a>
<a class="sourceLine" id="cb5-65" data-line-number="65"><span class="co">#&gt;                  PICKAWAY                      PIKE </span></a>
<a class="sourceLine" id="cb5-66" data-line-number="66"><span class="co">#&gt;                         9                         8 </span></a>
<a class="sourceLine" id="cb5-67" data-line-number="67"><span class="co">#&gt;                   PORTAGE                    PREBLE </span></a>
<a class="sourceLine" id="cb5-68" data-line-number="68"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-69" data-line-number="69"><span class="co">#&gt;                    PUTNAM                  RICHLAND </span></a>
<a class="sourceLine" id="cb5-70" data-line-number="70"><span class="co">#&gt;                         9                         8 </span></a>
<a class="sourceLine" id="cb5-71" data-line-number="71"><span class="co">#&gt;                      ROSS                  SANDUSKY </span></a>
<a class="sourceLine" id="cb5-72" data-line-number="72"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-73" data-line-number="73"><span class="co">#&gt;                    SCIOTO                    SENECA </span></a>
<a class="sourceLine" id="cb5-74" data-line-number="74"><span class="co">#&gt;                         8                         8 </span></a>
<a class="sourceLine" id="cb5-75" data-line-number="75"><span class="co">#&gt;                    SHELBY                     STARK </span></a>
<a class="sourceLine" id="cb5-76" data-line-number="76"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-77" data-line-number="77"><span class="co">#&gt;                  TRUMBULL                TUSCARAWAS </span></a>
<a class="sourceLine" id="cb5-78" data-line-number="78"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-79" data-line-number="79"><span class="co">#&gt;                     UNION                  VAN WERT </span></a>
<a class="sourceLine" id="cb5-80" data-line-number="80"><span class="co">#&gt;                         9                         7 </span></a>
<a class="sourceLine" id="cb5-81" data-line-number="81"><span class="co">#&gt;                    VINTON                    WARREN </span></a>
<a class="sourceLine" id="cb5-82" data-line-number="82"><span class="co">#&gt;                         4                         7 </span></a>
<a class="sourceLine" id="cb5-83" data-line-number="83"><span class="co">#&gt;                WASHINGTON                     WAYNE </span></a>
<a class="sourceLine" id="cb5-84" data-line-number="84"><span class="co">#&gt;                         9                         9 </span></a>
<a class="sourceLine" id="cb5-85" data-line-number="85"><span class="co">#&gt;                  WILLIAMS                      WOOD </span></a>
<a class="sourceLine" id="cb5-86" data-line-number="86"><span class="co">#&gt;                         8                         9 </span></a>
<a class="sourceLine" id="cb5-87" data-line-number="87"><span class="co">#&gt;                   WYANDOT </span></a>
<a class="sourceLine" id="cb5-88" data-line-number="88"><span class="co">#&gt;                         9</span></a>
<a class="sourceLine" id="cb5-89" data-line-number="89"><span class="co"># nass_param(&quot;county_name&quot;, state_name = &quot;OHIO&quot;)</span></a></code></pre></div>
<p>The “OTHER (COMBINED) COUNTIES” value has by far and away the most observations over this time and, if one knows all of the counties in Ohio, there are a few missing counties that we need to input their values for. Each of the “OTHER (COMBINED) COUNTIES” values is for a specific agricultural reporting district:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">non_irrigated <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(county_name <span class="op">==</span><span class="st"> &quot;OTHER (COMBINED) COUNTIES&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span><span class="kw">pull</span>(asd_code) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="st">  </span><span class="kw">table</span>()</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; .</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt; 10 20 30 50 60 70 80 90 </span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt;  2  2  8  2  3  8  4  7</span></a></code></pre></div>
<p>There are nine reporting districts in Ohio and eight of the nine have observations which combine counties for an observation – which implies some counties are missing official observations for the statistics in question. It is not necessarily the case that the counties are completely missing but they are suppressed. One method for correcting for these missing values is to replace the missing counties with the “OTHER (COMBINED) COUNTIES” category for average rent.</p>
<p>In order to do this, we first need a full set of all of the counties in Ohio along with their corresponding agricultural district number. There are many ways to accomplish this, but I will go about this by leveraging the 2012 Agricultural Census data which is in Quick Stats and contains a category for the number of farms in each Ohio county. The number of farms is not helpful for our data concerns but it does serve as a way to return a data.frame with 88 observations in Ohio with each uniquely corresponding to a county in Ohio.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">farms &lt;-<span class="st"> </span><span class="kw">nass_data</span>(<span class="dt">source_desc =</span> <span class="st">&quot;CENSUS&quot;</span>, <span class="dt">year =</span> <span class="dv">2012</span>, <span class="dt">state_name =</span> <span class="st">&quot;OHIO&quot;</span>, <span class="dt">agg_level_desc =</span> <span class="st">&quot;COUNTY&quot;</span>, <span class="dt">domain_desc =</span> <span class="st">&quot;TOTAL&quot;</span>, <span class="dt">short_desc =</span> <span class="st">&quot;FARM OPERATIONS - NUMBER OF OPERATIONS&quot;</span>)</a></code></pre></div>
<p>At this point, we want to make sure that each year for our non_irrigated rent data has all 88 counties with an NA value if it does not exist. Then, we want to impute the “OTHER (COMBINED) COUNTIES” category for all of the NAs. To do this we will create the backbone of our desired observations from the farms and then fully merge this with the current data from Quick Stats. The resulting data.frame will have missing “Value” observations for the counties which do not have observations and we will impute the value from “OTHER (COMBINED) COUNTIES”. And last of all, with these data the only important aspect of these observations is that we have a county identifier, locational aspects, and the year in question. Much of the rest of the variables in the dataset are not of importance to us so we will have only keep the remaining important variables and convert them to numeric.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;tidyr&quot;</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">base_rent &lt;-<span class="st"> </span>farms <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(state_fips_code, county_code, county_name, asd_code, asd_desc) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">  </span><span class="kw">expand</span>(<span class="dt">year =</span> <span class="kw">unique</span>(non_irrigated<span class="op">$</span>year), <span class="kw">nesting</span>(state_fips_code, county_code, county_name, asd_code)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="st">  </span><span class="kw">full_join</span>(non_irrigated)</a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">#&gt; Joining, by = c(&quot;year&quot;, &quot;state_fips_code&quot;, &quot;county_code&quot;, &quot;county_name&quot;, &quot;asd_code&quot;)</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co"># Correct for missing values in the &quot;other&quot;</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9">base_rent &lt;-<span class="st"> </span>base_rent <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="st">  </span><span class="kw">arrange</span>(year, asd_code, county_code) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="st">  </span><span class="kw">group_by</span>(year, asd_code) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Value =</span> <span class="kw">ifelse</span>(<span class="kw">is.na</span>(Value), Value[county_code <span class="op">==</span><span class="st"> &quot;998&quot;</span>], Value)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="st">  </span><span class="kw">filter</span>(county_code <span class="op">!=</span><span class="st"> &quot;998&quot;</span>)</a>
<a class="sourceLine" id="cb8-14" data-line-number="14"></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co"># Finally, select only the relevant variables are rename</span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16">base_rent &lt;-<span class="st"> </span>base_rent <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"><span class="st">  </span><span class="kw">select</span>(year, state_fips_code, county_code, county_name, asd_code, <span class="dt">rent =</span> Value) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-18" data-line-number="18"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rent =</span> <span class="kw">as.numeric</span>(rent),</a>
<a class="sourceLine" id="cb8-19" data-line-number="19">         <span class="dt">fips =</span> <span class="kw">as.numeric</span>(<span class="kw">paste0</span>(state_fips_code, county_code)))</a>
<a class="sourceLine" id="cb8-20" data-line-number="20"></a>
<a class="sourceLine" id="cb8-21" data-line-number="21"><span class="kw">glimpse</span>(base_rent)</a>
<a class="sourceLine" id="cb8-22" data-line-number="22"><span class="co">#&gt; Observations: 792</span></a>
<a class="sourceLine" id="cb8-23" data-line-number="23"><span class="co">#&gt; Variables: 7</span></a>
<a class="sourceLine" id="cb8-24" data-line-number="24"><span class="co">#&gt; Groups: year, asd_code [81]</span></a>
<a class="sourceLine" id="cb8-25" data-line-number="25"><span class="co">#&gt; $ year            &lt;chr&gt; &quot;2008&quot;, &quot;2008&quot;, &quot;2008&quot;, &quot;2008&quot;, &quot;2008&quot;, &quot;2008&quot;, …</span></a>
<a class="sourceLine" id="cb8-26" data-line-number="26"><span class="co">#&gt; $ state_fips_code &lt;chr&gt; &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, &quot;39&quot;, …</span></a>
<a class="sourceLine" id="cb8-27" data-line-number="27"><span class="co">#&gt; $ county_code     &lt;chr&gt; &quot;003&quot;, &quot;039&quot;, &quot;051&quot;, &quot;063&quot;, &quot;069&quot;, &quot;095&quot;, &quot;125&quot;,…</span></a>
<a class="sourceLine" id="cb8-28" data-line-number="28"><span class="co">#&gt; $ county_name     &lt;chr&gt; &quot;ALLEN&quot;, &quot;DEFIANCE&quot;, &quot;FULTON&quot;, &quot;HANCOCK&quot;, &quot;HENRY…</span></a>
<a class="sourceLine" id="cb8-29" data-line-number="29"><span class="co">#&gt; $ asd_code        &lt;chr&gt; &quot;10&quot;, &quot;10&quot;, &quot;10&quot;, &quot;10&quot;, &quot;10&quot;, &quot;10&quot;, &quot;10&quot;, &quot;10&quot;, …</span></a>
<a class="sourceLine" id="cb8-30" data-line-number="30"><span class="co">#&gt; $ rent            &lt;dbl&gt; 125.0, 99.0, 129.0, 104.0, 127.0, 116.0, 105.0, …</span></a>
<a class="sourceLine" id="cb8-31" data-line-number="31"><span class="co">#&gt; $ fips            &lt;dbl&gt; 39003, 39039, 39051, 39063, 39069, 39095, 39125,…</span></a></code></pre></div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
